{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\client\\\\src\\\\imageApi.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction ImageAPI() {\n  const [data, setData] = useState([]);\n  const [pageNo, setPageNo] = useState(1);\n  useEffect(() => {\n    getData();\n  }, []);\n\n  function getData() {\n    axios.get(`https://jsonplaceholder.typicode.com/albums/${pageNo}/photos`).then(response => {\n      if (pageNo > 1) {\n        let arr = [...data, ...response.data];\n        setData(arr);\n      } else {\n        setData(response.data);\n      }\n    }).catch(error => {\n      alert('Axios GET request failed');\n    });\n  }\n\n  const firstEvent = e => {\n    //console.log(e);\n    var bottom = e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight < 50;\n\n    if (bottom) {\n      let pg = pageNo + 1;\n      setPageNo(pg);\n      getData();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onScroll: firstEvent,\n    className: \"imageApi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Photo\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, data.map(item => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.thumbnailUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    })));\n  }))));\n}\n\nexport default ImageAPI;","map":{"version":3,"sources":["C:/project/client/src/imageApi.js"],"names":["React","useState","useEffect","axios","ImageAPI","data","setData","pageNo","setPageNo","getData","get","then","response","arr","catch","error","alert","firstEvent","e","bottom","target","scrollHeight","scrollTop","clientHeight","pg","map","item","id","title","thumbnailUrl"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,QAAT,GAAmB;AAClB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACM,MAAD,EAAQC,SAAR,IAAqBP,QAAQ,CAAC,CAAD,CAAnC;AACAC,EAAAA,SAAS,CAAC,MAAI;AACbO,IAAAA,OAAO;AACP,GAFQ,EAEP,EAFO,CAAT;;AAGA,WAASA,OAAT,GAAkB;AACjBN,IAAAA,KAAK,CAACO,GAAN,CAAW,+CAA8CH,MAAO,SAAhE,EACEI,IADF,CACOC,QAAQ,IAAI;AACjB,UAAGL,MAAM,GAAG,CAAZ,EAAc;AACb,YAAIM,GAAG,GAAG,CAAC,GAAGR,IAAJ,EAAU,GAAGO,QAAQ,CAACP,IAAtB,CAAV;AACAC,QAAAA,OAAO,CAACO,GAAD,CAAP;AACA,OAHD,MAII;AACHP,QAAAA,OAAO,CAACM,QAAQ,CAACP,IAAV,CAAP;AACA;AACD,KATF,EAUES,KAVF,CAUQC,KAAK,IAAI;AACfC,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACA,KAZF;AAaA;;AACD,QAAMC,UAAU,GAAIC,CAAD,IAAO;AACzB;AACA,QAAIC,MAAM,GAAGD,CAAC,CAACE,MAAF,CAASC,YAAT,GAAwBH,CAAC,CAACE,MAAF,CAASE,SAAjC,GAA6CJ,CAAC,CAACE,MAAF,CAASG,YAAtD,GAAqE,EAAlF;;AACA,QAAGJ,MAAH,EAAU;AACT,UAAIK,EAAE,GAAGjB,MAAM,GAAG,CAAlB;AACAC,MAAAA,SAAS,CAACgB,EAAD,CAAT;AACAf,MAAAA,OAAO;AACP;AACD,GARD;;AASA,sBACC;AAAK,IAAA,QAAQ,EAAEQ,UAAf;AAA2B,IAAA,SAAS,EAAC,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAO,IAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,eAEC;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFD,CADD,CADD,eAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEZ,IAAI,CAACoB,GAAL,CAASC,IAAI,IAAI;AACjB,wBACC;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,IAAI,CAACE,KAAV,CADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAK,MAAA,GAAG,EAAEF,IAAI,CAACG,YAAf;AAA6B,MAAA,GAAG,EAAC,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CAFD,CADD;AAMA,GAPA,CADF,CAPD,CADD,CADD;AAsBA;;AACD,eAAezB,QAAf","sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\t\r\nimport axios from 'axios';\r\n\r\nfunction ImageAPI(){\r\n\tconst [data, setData] = useState([]);\r\n\tconst [pageNo,setPageNo] = useState(1);\r\n\tuseEffect(()=>{\r\n\t\tgetData();\r\n\t},[]);\r\n\tfunction getData(){\r\n\t\taxios.get(`https://jsonplaceholder.typicode.com/albums/${pageNo}/photos`)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif(pageNo > 1){\r\n\t\t\t\t\tlet arr = [...data, ...response.data];\r\n\t\t\t\t\tsetData(arr);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tsetData(response.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\talert('Axios GET request failed');\r\n\t\t\t})\r\n\t}\r\n\tconst firstEvent = (e) => {\r\n\t\t//console.log(e);\r\n\t\tvar bottom = e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight < 50;\r\n\t\tif(bottom){\r\n\t\t\tlet pg = pageNo + 1;\r\n\t\t\tsetPageNo(pg);\r\n\t\t\tgetData();\r\n\t\t}\r\n\t}\r\n\treturn(\r\n\t\t<div onScroll={firstEvent} className='imageApi'>\r\n\t\t\t<table class='table'>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th scope='col'>Title</th>\r\n\t\t\t\t\t\t<th scope='col'>Photo</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{data.map(item => {\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<tr key={item.id}>\r\n\t\t\t\t\t\t\t\t<td>{item.title}</td>\r\n\t\t\t\t\t\t\t\t<td><img src={item.thumbnailUrl} alt='' /></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default ImageAPI;\r\n"]},"metadata":{},"sourceType":"module"}